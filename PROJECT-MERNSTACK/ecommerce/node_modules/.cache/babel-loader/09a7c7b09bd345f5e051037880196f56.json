{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91758\\\\Downloads\\\\PROJECT-MERNSTACK\\\\PROJECT-MERNSTACK\\\\ecommerce\\\\src\\\\components\\\\product-form\\\\ProductForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport axios from 'axios';\nimport './product-form.css';\nimport ProductContext from '../../store/ProductContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductForm = props => {\n  _s();\n\n  const ProductCtx = useContext(ProductContext);\n  const [resMessage, setResMessage] = useState('');\n  const [formInput, setFormInput] = useState({\n    productName: '',\n    productPrice: '',\n    productImage: ''\n  });\n\n  const productNameHandler = event => {\n    setFormInput(prevState => {\n      return { ...prevState,\n        productName: event.target.value\n      };\n    });\n  };\n\n  const productPriceHandler = event => {\n    setFormInput(prevState => {\n      return { ...prevState,\n        productPrice: event.target.value\n      };\n    });\n  };\n\n  const productImageHandler = event => {\n    setFormInput(prevState => {\n      return { ...prevState,\n        productImage: event.target.value\n      };\n    });\n  }; // console.log(formInput)\n  // console.log(`Product Name: ${formInput.productName} Product Price: ${formInput.productPrice}`)\n\n\n  const formSubmitHandler = async event => {\n    let error = \"\";\n\n    if (formInput.productName == \"\") {\n      error = \"Enter product Name\";\n      setResMessage(error); //   event.preventDefault();\n      //error='Please enter the product name'\n      //prompt(error);\n    } else if (formInput.productPrice == \"\") {\n      error = \"Enter product Price\";\n      setResMessage(error); //   event.preventDefault();\n      //error='Please enter the product name'\n      //prompt(error);\n    }\n\n    if (error == \"\") {\n      error = \"Product Added Successfully\";\n      saveProductData(formInput);\n      setResMessage(error);\n    }\n\n    event.preventDefault();\n  };\n\n  const saveProductData = async formData => {\n    try {\n      const product = {\n        product_name: formData.productName,\n        product_price: formData.productPrice,\n        product_image: formData.productImage\n      };\n      const result = await axios.post(\"http://localhost:1111/product/add\", product, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log(result);\n      ProductCtx.setProducts([...ProductContext.products, product]);\n    } catch (err) {\n      console.log(`From Error`, err.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Add New Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: resMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formSubmitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Product Name\",\n          onChange: productNameHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Product Price\",\n          onChange: productPriceHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Product Image\",\n          onChange: productImageHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn_add_product\",\n          children: \"Add Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductForm, \"RnNOi1nS74CfUwnP3bwqWhdKooo=\");\n\n_c = ProductForm;\nexport default ProductForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductForm\");","map":{"version":3,"names":["React","useContext","useState","axios","ProductContext","ProductForm","props","ProductCtx","resMessage","setResMessage","formInput","setFormInput","productName","productPrice","productImage","productNameHandler","event","prevState","target","value","productPriceHandler","productImageHandler","formSubmitHandler","error","saveProductData","preventDefault","formData","product","product_name","product_price","product_image","result","post","headers","console","log","setProducts","products","err","message"],"sources":["C:/Users/91758/Downloads/PROJECT-MERNSTACK/PROJECT-MERNSTACK/ecommerce/src/components/product-form/ProductForm.js"],"sourcesContent":["import React, {useContext,useState} from 'react';\r\nimport axios from 'axios';\r\nimport './product-form.css';\r\nimport ProductContext from '../../store/ProductContext'\r\n\r\nconst ProductForm = (props)=>{\r\n    const ProductCtx = useContext(ProductContext);\r\n    const [resMessage, setResMessage] = useState('');\r\n    const [formInput,setFormInput] = useState({\r\n        productName:'',\r\n        productPrice:'',\r\n        productImage:''\r\n    })\r\n\r\n    \r\n\r\n    const productNameHandler = (event)=>{\r\n        setFormInput((prevState)=>{\r\n            return{ \r\n                ...prevState,\r\n                productName:event.target.value\r\n            }\r\n        })\r\n    }\r\n    const productPriceHandler = (event)=>{\r\n        setFormInput((prevState)=>{\r\n            return{ \r\n                ...prevState,\r\n                productPrice:event.target.value\r\n            }\r\n        })\r\n    }\r\n    const productImageHandler = (event)=>{ \r\n        setFormInput((prevState)=>{\r\n            return{ \r\n                ...prevState,\r\n                productImage:event.target.value\r\n            }\r\n        })\r\n    }\r\n    // console.log(formInput)\r\n    // console.log(`Product Name: ${formInput.productName} Product Price: ${formInput.productPrice}`)\r\n    \r\n    const formSubmitHandler = async (event) => {\r\n    \r\n    let error = \"\";\r\n    if (formInput.productName == \"\") {\r\n        error= \"Enter product Name\"\r\n        setResMessage(error)\r\n    //   event.preventDefault();\r\n      //error='Please enter the product name'\r\n      //prompt(error);\r\n    } else if (formInput.productPrice == \"\") {\r\n        error= \"Enter product Price\"\r\n        setResMessage(error)\r\n    //   event.preventDefault();\r\n      //error='Please enter the product name'\r\n      //prompt(error);\r\n    }\r\n    if(error == \"\") {\r\n        error = \"Product Added Successfully\"\r\n        saveProductData(formInput);\r\n        setResMessage(error)\r\n    }\r\n    event.preventDefault();\r\n  };\r\n\r\n  const saveProductData = async (formData) => {\r\n    try{\r\n        const product = {\r\n            product_name: formData.productName,\r\n            product_price: formData.productPrice,\r\n            product_image: formData.productImage,\r\n          }\r\n          const result = await axios.post(\"http://localhost:1111/product/add\",product,{\r\n              headers: {\r\n                  'Content-Type': 'application/json'\r\n              }\r\n          })\r\n          console.log(result)\r\n          ProductCtx.setProducts([...ProductContext.products,product])\r\n    }catch(err){\r\n        console.log(`From Error`,err.message)\r\n    }\r\n    \r\n  }\r\n  \r\n    return(\r\n        <div className = 'form-container'>\r\n            <h1>Add New Product</h1>\r\n            <div className = 'error'>{resMessage}</div>\r\n            <form onSubmit={formSubmitHandler}>\r\n                <div className = 'form-input'>\r\n                    <input type=\"text\" placeholder='Product Name' onChange={productNameHandler}/>\r\n                </div>\r\n                <div className = 'form-input'>\r\n                    <input type=\"text\" placeholder='Product Price'onChange={productPriceHandler}/>\r\n                </div>\r\n                <div className = 'clearfix'></div>\r\n                <div className = 'form-input'>\r\n                    <input type=\"text\" placeholder='Product Image'onChange={productImageHandler}/>\r\n                </div>\r\n                <div className = 'clearfix'></div>\r\n                <div className = 'form-input'>\r\n                    <button className=\"btn_add_product\">Add Product</button>\r\n                </div>\r\n                <div className = 'clearfix'></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}